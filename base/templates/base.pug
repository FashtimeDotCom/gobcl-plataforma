doctype 5

- load compress
- load staticfiles
- load i18n static
- load cms_tags
- load sekizai_tags

html(lang="es")
  head
    meta(charset="utf-8")
    title gob.cl {% block title %} {{title}} {%endblock%}
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    meta(name="description", content="")
    meta(name="author", content="http://magnet.cl")

    link(
      href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css",
      rel="stylesheet"
    )
    link(rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto")
    link(rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab")

    //if lte IE 7
      script(src="http://html5shim.googlecode.com/svn/trunk/html5.js")

    //if lt IE 9
      script(src="{% static 'bower_components/respond/respond.min.js' %}")
    {% render_block "css" %}

    link(
      href="{% static 'select2/dist/css/select2.min.css' %}",
      rel="stylesheet"
    )
    {% compress css %}
    link(
      type="text/x-scss", rel="stylesheet", href="{% static 'css/bootstrap.scss' %}",
      charset="utf-8"
    )
    {% endcompress %}

    link(
      href="{% static 'gob.cl/dist/css/gob.cl.css' %}",
      rel="stylesheet"
    )

    {% compress css %}
    link(
      type="text/x-scss", rel="stylesheet", href="{% static 'css/site.scss' %}",
      charset="utf-8"
    )
    {% endcompress %}

    {% compress css %}
    block stylesheets
    {% endcompress %}

  body(class='{{body_class|default:""}} footer-links-{{ footer_links|length }}')
    {% cms_toolbar %}
    {% placeholder "content" %}
    {% include 'includes/navbar.pug' %}
    div
      div.container
        div.row
          {% if messages %}
          {% for message in messages %}
          div(class="alert alert-{{ message.tags }}") {{ message }}
          {% endfor %}
          {% endif %}

    block content
    {% include 'includes/search.pug' %}
    {% include 'includes/footer.pug' %}
    // Javascript Placed at the end of the document so the pages load faster
    // uncompressible javascripts
    if not debug
      script(
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"
      )
      script(
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js",
        integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh",
        crossorigin="anonymous"
      )
      script(
        src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js",
        integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ",
        crossorigin="anonymous"
      )

    block uncompressible_javascripts

    {% compress js %}
    if debug
      script(src="{% static 'jquery/dist/jquery.min.js' %}")
      script(src="{% static 'popper.js/dist/umd/popper.js' %}")
      script(src="{% static 'bootstrap/dist/js/bootstrap.min.js' %}")
      script(src="{% static 'gob.cl/dist/js/gob.cl.js' %}")
    {% endcompress %}

    // templates

    {% compress js %}
    script(type="text/pug", src="{% static 'templates/users/list.pug' %}")
    script(type="text/pug", src="{% static 'templates/users/detail.pug' %}")
    {% endcompress %}

    block javascript_data
    {% render_block "js" %}
    {% compress js %}
    script(src="{% static 'select2/dist/js/select2.full.js' %}")
    script(src="{% static 'js/application.js' %}")
    script(src="{% static 'js/utils/accent_fold.js' %}")
    script(src="{% static 'js/forms.js' %}")
    script(src="{% static 'js/toolbar.js' %}")
    block javascripts
    {% endcompress %}

