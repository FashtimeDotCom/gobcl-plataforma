
@import "_variables";

body {
  .page-loading-icon {
    display: none;
    left: 10px;
    position: relative;
  }

  &.wait {
    cursor: wait !important;

    .page-loading-icon {
      display: inline-block;
    }
  }

  @for $i from 0 through $footer-links-max {
    &.footer-links-#{$i} {

      main.site-main {
        min-height: calc(100vh - #{(map-get($footer-base-height, xs) + $i * $footer-link-height) + map-get($navbar-height, xs)});

        @media (min-width: map-get($grid-breakpoints, md)) {
          min-height: calc(100vh - #{map-get($footer-base-height, md) + (round($i / 2) * $footer-link-height) + map-get($navbar-height, md)});
        }

        @media (min-width: map-get($grid-breakpoints, xl)) {
          min-height: calc(100vh - #{max((round($i / 2) * $footer-link-height) + $footer-links-container-offset, map-get($footer-base-height, xl)) + map-get($navbar-height, md)});
        }
      }

      footer.site-footer {
        height: map-get($footer-base-height, xs) + $i * $footer-link-height;

        @media (min-width: map-get($grid-breakpoints, md)) {
          height: map-get($footer-base-height, md) + (round($i / 2) * $footer-link-height);
        }

        @media (min-width: map-get($grid-breakpoints, xl)) {
          height: max((round($i / 2) * $footer-link-height) + $footer-links-container-offset, map-get($footer-base-height, xl));
        }

        .menu {
          height: $i * $footer-link-height;

          @media (min-width: map-get($grid-breakpoints, md)) {
            height: round($i / 2) * $footer-link-height;
          }
        }
      }
    }
  }
}

html {
  @for $i from 0 through $footer-links-max {
    &.cms-ready {

      body.footer-links-#{$i} {
        main.site-main {
          min-height: calc(100vh - #{((map-get($footer-base-height, xs) + $i * $footer-link-height) + map-get($navbar-height, xs)) + $django-cms-toolbar});

          @media (min-width: map-get($grid-breakpoints, md)) {
            min-height: calc(100vh - #{(map-get($footer-base-height, md) + (round($i / 2) * $footer-link-height) + map-get($navbar-height, md)) + $django-cms-toolbar});
          }

          @media (min-width: map-get($grid-breakpoints, xl)) {
            min-height: calc(100vh - #{(max((round($i / 2) * $footer-link-height) + $footer-links-container-offset, map-get($footer-base-height, xl)) + map-get($navbar-height, md)) + $django-cms-toolbar});
          }
        }
      }

      &.cms-toolbar-expanded {
        body.footer-links-#{$i} {
          main.site-main {
            min-height: calc(100vh - #{((map-get($footer-base-height, xs) + $i * $footer-link-height) + map-get($navbar-height, xs)) + $django-cms-toolbar-expanded});

            @media (min-width: map-get($grid-breakpoints, md)) {
              min-height: calc(100vh - #{(map-get($footer-base-height, md) + (round($i / 2) * $footer-link-height) + map-get($navbar-height, md)) + $django-cms-toolbar-expanded});
            }

            @media (min-width: map-get($grid-breakpoints, xl)) {
              min-height: calc(100vh - #{(max((round($i / 2) * $footer-link-height) + $footer-links-container-offset, map-get($footer-base-height, xl)) + map-get($navbar-height, md)) + $django-cms-toolbar-expanded});
            }
          }
        }
      }
    }
  }
}

nav.navbar {
  &.navbar-expand-md {
    > .container {
      padding: 0 15px;
    }
  }

  > .container {
    .navbar-brand {
      padding: 0;
    }

    .navbar-toggler {
      margin-top: $original-navbar-xs-padding-y;
      margin-bottom: $original-navbar-xs-padding-y;

      @media (min-width: map-get($grid-breakpoints, md)) {
        margin-top: $original-navbar-md-padding-y;
        margin-bottom: $original-navbar-md-padding-y;
      }
    }

    .navbar-collapse {
      @media (min-width: map-get($grid-breakpoints, md)) {
        margin-top: $original-navbar-md-padding-y;
        margin-bottom: $original-navbar-md-padding-y;
      }
    }
  }
}

main {
  margin-top: map-get($navbar-height, xs);

   @media (min-width: map-get($grid-breakpoints, md)) {
     margin-top: map-get($navbar-height, md);
   }

}

footer.site-footer {
  .menu {
    a {
      height: $footer-link-height;
    }
  }
}

// django cms support
html {
  &.cms-ready {
    .navbar {
      top: $django-cms-toolbar;
    }
    &.cms-toolbar-expanded {
      .navbar {
        top: $django-cms-toolbar-expanded;
      }
    }
  }
}

.post-video_wrapper {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 */
  padding-top: 25px;
  height: 0;

  iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}